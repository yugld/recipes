<script setup>
import { onMounted } from 'vue';
import { ROUTES_PATHS } from '@/constants';
import {useRouter , useRoute} from 'vue-router';

const router = useRouter();
const route = useRoute();

const isPathActive = (path) => {
  return route.path === path;
}

onMounted(isPathActive);
</script>

<template>
    <div class="menu">
      <div class="logo">
        <svg id="Layer_1_1_" style="enable-background:new 0 0 64 64;" version="1.1" viewBox="0 0 64 64" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><g><polygon points="58,58 57,62 49,62 48,58   " style="fill:#DFB28B;"/><polygon points="16,58 15,62 7,62 6,58   " style="fill:#DFB28B;"/><rect height="26" style="fill:#DFB28B;" width="60" x="2" y="32"/><rect height="4" style="fill:#B27946;" width="60" x="2" y="32"/><rect height="30" style="fill:#AAB2BD;" width="26" x="4" y="2"/><rect height="22" style="fill:#E6E9ED;" width="26" x="4" y="6"/><rect height="14" style="fill:#FCD770;" width="6" x="8" y="14"/><rect height="10" style="fill:#A0D468;" width="6" x="14" y="18"/><path d="M38,32L38,32c0-2.209,1.791-4,4-4h8c2.209,0,4,1.791,4,4v0H38z" style="fill:#DFB28B;"/><path d="M54,22L54,22c0,3.314-2.686,6-6,6h-4c-3.314,0-6-2.686-6-6v0H54z" style="fill:#FCD770;"/><rect height="14" style="fill:#CF9E76;" width="52" x="6" y="40"/><rect height="14" style="fill:#ECC19C;" width="26" x="32" y="40"/><polygon points="15.5,60 16,58 6,58 6.5,60   " style="fill:#CF9E76;"/><polygon points="57.5,60 58,58 48,58 48.5,60   " style="fill:#CF9E76;"/><rect height="2" style="fill:#969FAA;" width="26" x="4" y="30"/><path d="M38.555,30C38.211,30.59,38,31.268,38,32h16c0-0.732-0.211-1.41-0.555-2H38.555z" style="fill:#CF9E76;"/><rect height="2" style="fill:#FFC729;" width="6" x="8" y="26"/><rect height="2" style="fill:#8CC152;" width="6" x="14" y="26"/></g><g><path d="M63,31h-8.101c-0.309-1.515-1.315-2.765-2.657-3.445C53.914,26.275,55,24.264,55,22v-1h-3.796l5.549-6.342l-1.506-1.316    L48.546,21H37v1c0,2.264,1.086,4.275,2.758,5.555c-1.342,0.68-2.348,1.93-2.657,3.445H31V1H3v30H1v28h4.22l0.999,4h9.562l0.999-4    H47.22l0.999,4h9.562l0.999-4H63V31z M52.899,23c-0.465,2.279-2.484,4-4.899,4h-4c-2.415,0-4.435-1.721-4.899-4H52.899z M42,29h2    h4h2c1.302,0,2.402,0.839,2.816,2H39.184C39.598,29.839,40.698,29,42,29z M13,27H9V15h4V27z M15,19h4v8h-4V19z M15,17v-4H7v14H5V7    h24v20h-8V17H15z M29,3v2H5V3H29z M5,29h24v2H5V29z M61,33v2H3v-2H61z M14.219,61H7.781l-0.501-2h7.439L14.219,61z M56.219,61    h-6.438l-0.501-2h7.439L56.219,61z M3,57V37h58v20H3z"/><path d="M47,16.803c0-0.981,0.288-1.932,0.832-2.748C48.596,12.908,49,11.574,49,10.197V8h-2v2.197    c0,0.981-0.288,1.932-0.832,2.748C45.404,14.092,45,15.426,45,16.803V19h2V16.803z"/><path d="M41,14.803c0-0.981,0.288-1.932,0.832-2.748C42.596,10.908,43,9.574,43,8.197V6h-2v2.197c0,0.981-0.288,1.932-0.832,2.748    C39.404,12.092,39,13.426,39,14.803V17h2V14.803z"/><path d="M5,55h54V39H5V55z M57,53H33V41h24V53z M7,41h24v12H7V41z"/><rect height="4" width="2" x="35" y="45"/><rect height="4" width="2" x="27" y="45"/></g></g></svg>
      </div>
      <el-menu :router="true" class="nav el-menu-vertical-demo">       
        <el-menu-item :index="ROUTES_PATHS.HOME" :class="['item', isPathActive(ROUTES_PATHS.HOME) && 'active']">
          
          <el-icon :size="24"><Food /></el-icon>
        </el-menu-item>
        <el-menu-item :index="ROUTES_PATHS.CATEGORIES" :class="['item', isPathActive(ROUTES_PATHS.CATEGORIES) && 'active']">
          
          <el-icon :size="24"><Dish /></el-icon>
        </el-menu-item>
      </el-menu>
      
    </div>
</template>

<style lang="sass" scoped>
    @import '@/assets/styles/index'

    .menu
      height: 100%
      min-height: 100vh
      padding: 20px 5px 0
      border-right: 1px solid $border

    .nav
      border: none

    .logo
      width: 50px
      padding: 0 15px 15px
      border-bottom: 1px solid $border

    .item
      color: $violet

      &.active
        color: #00FF00

</style>
